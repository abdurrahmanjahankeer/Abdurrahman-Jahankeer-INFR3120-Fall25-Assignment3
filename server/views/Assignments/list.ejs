<%- include('../partials/header') %>
<%- include('../partials/main_nav') %>
<div id="page-wrapper">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <h1 class="page-title"><%= title || "Assignments" %></h1>
        <a href="/assignments/add" class="btn btn-primary mb-3">
          <i class="fas fa-plus-circle"></i> Add Assignment
        </a>
        <table class="table table-bordered table-striped table-hover">
          <tr>
            <th style="width:18%;">Assignment Title</th>
            <th style="width:15%;">Class</th>
            <th style="width:34%;">Project Explanation</th>
            <th style="width:23%;">Project Members</th>
            <th style="width:10%;">Year</th>
            <th style="width:7%;">Edit</th>
            <th style="width:7%;">Delete</th>
          </tr>
          <% if(assignments && assignments.length > 0) { %>
          <% for(let i=0; i < assignments.length; i++) { %>
            <tr>
              <td><%= assignments[i].assignmentTitle %></td>
              <td><%= assignments[i].class %></td>
              <td><%= assignments[i].projectExplanation %></td>
              <td><%= assignments[i].projectMembers.join(', ') %></td>
              <td><%= assignments[i].yearOfCompletion %></td>
              <td>
                <a href="/assignments/edit/<%= assignments[i]._id %>" class="btn btn-primary btn-sm">
                  <i class="fas fa-pencil-alt"></i>
                </a>
              </td>
              <td>
                <a href="/assignments/delete/<%= assignments[i]._id %>" class="btn btn-danger btn-sm">
                  <i class="fas fa-trash-alt"></i>
                </a>
              </td>
            </tr>
          <% } %>
          <% } else { %>
            <tr>
              <td colspan="7" style="color: orange;">No assignments yet. Click "Add Assignment"!</td>
            </tr>
          <% } %>
        </table>
      </div>
    </div>
  </div>
</div>
<%- include('../partials/footer') %>