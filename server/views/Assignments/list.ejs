<%- include('../partials/header') %>
<%- include('../partials/main_nav') %>
<main class="container">
  <div class="row">
    <div class="offset-md-1 col-md-10">
      <h1><%= title || "Assignments" %></h1>
      <a href="/assignments/add" class="btn btn-primary mb-3" role="button">
        <i class="fas fa-plus-circle"></i> Add Assignment
      </a>
      <table class="table table-bordered table-striped table-hover">
        <tr class="d-flex">
          <th class="text-center col-2">Assignment Title</th>
          <th class="text-center col-2">Class</th>
          <th class="col-4">Project Explanation</th>
          <th class="text-center col-2">Project Members</th>
          <th class="text-center col-1">Year</th>
          <th class="text-center col-1"></th>
          <th class="text-center col-1"></th>
        </tr>
        <% for(let i=0; i < assignments.length; i++) { %>
          <tr class="d-flex">
            <td class="text-center col-2"><%= assignments[i].assignmentTitle %></td>
            <td class="text-center col-2"><%= assignments[i].class %></td>
            <td class="col-4"><%= assignments[i].projectExplanation %></td>
            <td class="text-center col-2">
              <%= assignments[i].projectMembers.join(', ') %>
            </td>
            <td class="text-center col-1"><%= assignments[i].yearOfCompletion %></td>
            <td class="text-center col-1">
              <a href="/assignments/edit/<%= assignments[i]._id %>" 
                 class="btn btn-primary btn-sm">
                 <i class="fas fa-pencil-alt"></i> Edit
              </a>
            </td>
            <td class="text-center col-1">
              <a href="/assignments/delete/<%= assignments[i]._id %>" 
                 class="btn btn-danger btn-sm">
                 <i class="fas fa-trash-alt"></i> Delete
              </a>
            </td>
          </tr>
        <% } %>
      </table>
    </div>
  </div>
</main>
<br><br>
<%- include('../partials/footer') %>